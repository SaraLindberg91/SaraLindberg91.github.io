(function(){"use strict";var e={5114:function(e,a,t){var l=t(9242),n=t(3396);const r=(0,n._)("a",{style:{color:"#fff","padding-left":"1rem"},href:"https://www.skatteverket.se/privat/skatter/arbeteochinkomst/traktamente.4.dfe345a107ebcc9baf80006547.html",target:"_blank"},"Läs mer om traktamente hos Skatteverket",-1);function u(e,a,t,l,u,o){const s=(0,n.up)("TraktamenteStart");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(s),r],64)}var o=t(7139),s=t(4870);t(1703);const i=["value"],c={class:"form-container"},d=(0,n.Uk)("Breakfast "),v=["true-value"],p=(0,n._)("span",{class:"checkmark"},null,-1),y={class:"form-container"},k=(0,n.Uk)("Lunch "),f=["true-value"],h=(0,n._)("span",{class:"checkmark"},null,-1),m={class:"form-container"},_=(0,n.Uk)("Dinner "),w=["true-value"],b=(0,n._)("span",{class:"checkmark"},null,-1),g={class:"text"};var D={props:{data:Object,traktamentet:Object,currentDay:String,fullDay:String},setup(e){const a=e,t=(0,s.iH)(a.data),r=(0,n.Fl)((()=>{if(0==t.value.price)return 0;let e=0!==t.value.breakfast?t.value.price*t.value.breakfast:0,a=0!==t.value.lunch?t.value.price*t.value.lunch:0,l=0!==t.value.dinner?t.value.price*t.value.dinner:0,n=t.value.price-(e+a+l);return n.toFixed(2)}));return(0,n.YP)([a.data],(()=>{if(0==a.data.price)return 0;let e=0!==a.data.breakfast?a.data.price*a.data.breakfast:0,l=0!==t.value.lunch?t.value.price*t.value.lunch:0,n=0!==t.value.dinner?t.value.price*t.value.dinner:0;t.value.total=t.value.price-(e+l+n)})),(a,u)=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,(0,o.zw)(e.currentDay),1),(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{name:"typpp",id:"gdsgds","onUpdate:modelValue":u[0]||(u[0]=e=>t.value.price=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.traktamentet,((e,a)=>((0,n.wg)(),(0,n.iD)("option",{key:a,value:e},(0,o.zw)(a)+" ("+(0,o.zw)(e)+" kr) ",9,i)))),128))],512),[[l.bM,t.value.price]])]),(0,n._)("td",null,[(0,n._)("label",c,[d,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"breakfast","true-value":.15,"false-value":0,"onUpdate:modelValue":u[1]||(u[1]=e=>t.value.breakfast=e)},null,8,v),[[l.e8,t.value.breakfast]]),p])]),(0,n._)("td",null,[(0,n._)("label",y,[k,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"lunch","true-value":.35,"false-value":0,"onUpdate:modelValue":u[2]||(u[2]=e=>t.value.lunch=e)},null,8,f),[[l.e8,t.value.lunch]]),h])]),(0,n._)("td",null,[(0,n._)("label",m,[_,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"dinner","true-value":.35,"false-value":0,"onUpdate:modelValue":u[3]||(u[3]=e=>t.value.dinner=e)},null,8,w),[[l.e8,t.value.dinner]]),b])]),(0,n._)("td",null,[(0,n._)("label",g,(0,o.zw)((0,s.SU)(r))+" kr",1)])]))}};const H=D;var j=H;const U=e=>((0,n.dD)("data-v-78323d80"),e=e(),(0,n.Cn)(),e),S=U((()=>(0,n._)("h3",null,"3. Search country you visited",-1))),Y=U((()=>(0,n._)("option",{value:"",disabled:"",selected:""},"Select country",-1))),A=["value"],x={key:1,class:"section"},O=U((()=>(0,n._)("h3",null,"4. Fill in your table",-1))),z={id:"chooseTable",style:{"margin-top":"2rem"}},T=U((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Datum"),(0,n._)("th",null,"Heldag/ Halvdag"),(0,n._)("th",null,"Breakfast (-15%)"),(0,n._)("th",null,"Lunch (-35%)"),(0,n._)("th",null,"Dinner (-35%)"),(0,n._)("th",null,"Total")])],-1))),V={colspan:"6"};var C={props:{days:Number,daysArray:Array},setup(e){const a=e,t="https://skatteverket.entryscape.net/rowstore/dataset/70ccea31-b64c-4bf5-84c7-673f04f32505/json",r=(0,s.iH)([]),u=(0,s.iH)(!0),i=(0,s.iH)(null),c=(0,s.iH)(""),d=(0,s.iH)({Heldag:null,Halvdag:null}),v=(new Date).getFullYear(),p=(0,s.iH)(null),y=(0,s.iH)(""),k=(0,s.iH)(null),f=(0,n.Fl)((()=>{let e=r.value,{filterKey:a}="";return y.value&&r.value?(a=y.value.toLowerCase(),e.filter((e=>e["land eller område"].toLowerCase().indexOf(a)>-1))):e}));function h(){d.value["Heldag"]=Number(c.value),d.value["Halvdag"]=c.value/2}function m(e){return u.value=!0,fetch(e,{method:"get"}).then((e=>{if(!e.ok){const a=new Error(e.statusText);throw a.json=e.json(),a}return e.json()})).then((e=>{r.value=r.value.concat(e.results),p.value=e.resultCount,e.next&&m(e.next)})).catch((e=>{if(i.value=e,e.json)return e.json.then((e=>{i.value.message=e.message}))})).then((()=>{u.value=!1}))}return(0,n.YP)([a.daysArray],(()=>{k.value=a.daysArray.reduce((function(e,a){return e+a.total}),0)})),(0,n.bv)((()=>{const e=`${t}?år=${v}`;m(encodeURI(e))})),(t,u)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[S,r.value&&r.value.length?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,name:"dropdownCo",id:"dropdownCo","onUpdate:modelValue":u[0]||(u[0]=e=>c.value=e),onChange:h},[Y,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(f),((e,a)=>((0,n.wg)(),(0,n.iD)("option",{value:e["normalbelopp"],key:a},(0,o.zw)(e["land eller område"])+" - "+(0,o.zw)(e["normalbelopp"])+" kr ",9,A)))),128))],544)),[[l.bM,c.value]]):(0,n.kq)("",!0),c.value?((0,n.wg)(),(0,n.iD)("div",x,[O,(0,n._)("table",z,[T,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.daysArray,((e,t)=>((0,n.wg)(),(0,n.j4)((0,s.SU)(j),{"current-day":e.date,data:e,daysArray:a.daysArray,traktamentet:d.value,key:t},null,8,["current-day","data","daysArray","traktamentet"])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[(0,n._)("td",V,"Total: "+(0,o.zw)(k.value)+" kr",1)])])])])):(0,n.kq)("",!0)],64))}},F=t(89);const K=(0,F.Z)(C,[["__scopeId","data-v-78323d80"]]);var L=K;const P=["value"],q={class:"form-container"},N=(0,n.Uk)("Breakfast "),$=(0,n._)("span",{class:"checkmark"},null,-1),B={class:"form-container"},E=(0,n.Uk)("Lunch "),M=(0,n._)("span",{class:"checkmark"},null,-1),I={class:"form-container"},W=(0,n.Uk)("Dinner "),Z=(0,n._)("span",{class:"checkmark"},null,-1),G={class:"form-container"};var R={props:{data:Object,traktamentet:Array,currentDay:String},setup(e){const a=e,t=(0,s.iH)(a.data),r=(0,n.Fl)((()=>{if(0==t.value.price)return 0;let e=Object.keys(t.value).reduce((function(){return t.value["breakfast"]+t.value["lunch"]+t.value["dinner"]}),0);return e=Number(t.value["price"])-e,e}));return(0,n.YP)([a.data],(()=>{if(0==a.data.price)return 0;let e=Object.keys(t.value).reduce((function(){return t.value["breakfast"]+t.value["lunch"]+t.value["dinner"]}),0);t.value.total=Number(t.value["price"])-e})),(a,u)=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,(0,o.zw)(e.currentDay),1),(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{name:"typpp",id:"gdsgds","onUpdate:modelValue":u[0]||(u[0]=e=>t.value.price=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.traktamentet,((e,a)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:a},["Halv dag"==e["vid tjänsteresa"]||"Hel dag"==e["vid tjänsteresa"]?((0,n.wg)(),(0,n.iD)("option",{key:0,value:e["i sverige, kr"]},(0,o.zw)(e["vid tjänsteresa"])+" ("+(0,o.zw)(e["i sverige, kr"])+" kr) ",9,P)):(0,n.kq)("",!0)],64)))),128))],512),[[l.bM,t.value.price]])]),(0,n._)("td",null,[(0,n._)("label",q,[N,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"breakfast","true-value":48,"false-value":0,"onUpdate:modelValue":u[1]||(u[1]=e=>t.value.breakfast=e)},null,512),[[l.e8,t.value.breakfast]]),$])]),(0,n._)("td",null,[(0,n._)("label",B,[E,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"lunch","true-value":84,"false-value":0,"onUpdate:modelValue":u[2]||(u[2]=e=>t.value.lunch=e)},null,512),[[l.e8,t.value.lunch]]),M])]),(0,n._)("td",null,[(0,n._)("label",I,[W,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"dinner","true-value":84,"false-value":0,"onUpdate:modelValue":u[3]||(u[3]=e=>t.value.dinner=e)},null,512),[[l.e8,t.value.dinner]]),Z])]),(0,n._)("td",null,[(0,n._)("label",G,(0,o.zw)((0,s.SU)(r))+" kr",1)])]))}};const J=R;var Q=J;const X=(0,n._)("h2",null,"Swedish traktamente",-1),ee={id:"chooseTable"},ae=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Datum"),(0,n._)("th",null,"Heldag/ Halvdag"),(0,n._)("th",null,"Breakfast (-48kr)"),(0,n._)("th",null,"Lunch (-84kr)"),(0,n._)("th",null,"Dinner(-84kr)"),(0,n._)("th",null,"Total")])],-1),te={colspan:"6"},le={id:"skatteverket"};var ne={props:{days:Number,daysArray:Array},setup(e){const a=e,t=(0,s.iH)([]),l=(0,s.iH)(!0),r=(0,s.iH)(null),u=(0,s.iH)(!1),i=(new Date).getFullYear(),c=(0,s.iH)(null),d=(0,s.iH)(null),v="https://skatteverket.entryscape.net/rowstore/dataset/006353ad-aa05-4757-bdfd-fae344433a50";let p=`?år=${i}`;const y=`${v}${p}`,k=(0,n.Fl)((()=>0==t.value.length?[]:Object.keys(t.value[0])));function f(){return l.value=!0,fetch(y,{method:"get"}).then((e=>{if(!e.ok){const a=new Error(e.statusText);throw a.json=e.json(),a}return e.json()})).then((e=>{t.value=t.value.concat(e.results),c.value=e.resultCount})).catch((e=>{if(r.value=e,e.json)return e.json.then((e=>{r.value.message=e.message}))})).then((()=>{l.value=!1}))}return(0,n.YP)([a.daysArray],(()=>{d.value=a.daysArray.reduce((function(e,a){return e+a.total}),0)})),(0,n.bv)((()=>{f()})),(l,r)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[X,(0,n._)("table",ee,[ae,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.daysArray,((e,l)=>((0,n.wg)(),(0,n.j4)((0,s.SU)(Q),{"current-day":e.date,data:e,daysArray:a.daysArray,traktamentet:t.value,key:l},null,8,["current-day","data","daysArray","traktamentet"])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[(0,n._)("td",te,"Total: "+(0,o.zw)(d.value)+" kr",1)])])]),(0,n._)("button",{class:"collapsible",onClick:r[0]||(r[0]=e=>u.value=!u.value)},"Skatteverket table"),(0,n._)("div",{class:(0,o.C_)(["content",{active:u.value}])},[(0,n._)("table",le,[(0,n._)("thead",null,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(k),((e,a)=>((0,n.wg)(),(0,n.iD)("th",{key:a},(0,o.zw)(e),1)))),128))])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(k),((a,t)=>((0,n.wg)(),(0,n.iD)("td",{key:t},(0,o.zw)(e[a]),1)))),128))])))),128))])])],2)],64))}};const re=ne;var ue=re;const oe={class:"container"},se=(0,n._)("img",{alt:"Vue logo",src:"https://www.visitgroup.com/sites/cb_visit/files/visit-group-pos-logox2.jpeg"},null,-1),ie={class:"section"},ce=(0,n._)("h3",null,"1. Start by selecting start and end date of your trip",-1),de={class:"form-wrapper"},ve=(0,n._)("label",{for:"start",style:{display:"block"}},"Start date:",-1),pe=(0,n._)("label",{for:"end",style:{display:"block"}},"End date:",-1),ye=["min"],ke={class:"section"},fe=(0,n._)("h3",null,"2. Select if you traveled in Sweden or abroad",-1),he={class:"form-wrapper"},me=["id","value"],_e=(0,n._)("span",{class:"radiomark"},null,-1),we={key:0,class:"section"},be={key:1,class:"section"};var ge={setup(e){let a=new Date;const t=["Sweden","Abroad"],r=(0,s.iH)(),u=new Intl.DateTimeFormat("sv-se",{year:"numeric",month:"2-digit",day:"2-digit"}),i=(0,s.iH)(u.format(a)),c=(0,s.iH)(null),d=(0,s.iH)([]),v=(0,s.iH)([]);return(0,n.YP)([i,c],(()=>{let e=new Date(i.value);const a=new Date(c.value);v.value=[],d.value=[];while(e<=a){let a={date:u.format(e),price:0,breakfast:0,lunch:0,dinner:0,total:0};v.value.push(a),d.value.push(a),e.setDate(e.getDate()+1)}})),(e,a)=>((0,n.wg)(),(0,n.iD)("div",oe,[se,(0,n._)("div",ie,[ce,(0,n._)("div",de,[(0,n._)("div",null,[ve,(0,n.wy)((0,n._)("input",{type:"date",id:"start",name:"trip-start","onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e)},null,512),[[l.nr,i.value]])]),(0,n._)("div",null,[pe,(0,n.wy)((0,n._)("input",{type:"date",id:"end",name:"trip-end",min:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e)},null,8,ye),[[l.nr,c.value]])])])]),(0,n._)("div",ke,[i.value&&c.value&&c.value>=i.value?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[fe,(0,n._)("div",he,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(e=>(0,n._)("label",{key:e,class:"form-container"},[(0,n.Uk)((0,o.zw)(e)+" ",1),(0,n.wy)((0,n._)("input",{type:"radio",id:e,value:e,name:"where","onUpdate:modelValue":a[2]||(a[2]=e=>r.value=e)},null,8,me),[[l.G2,r.value]]),_e]))),64))])],64)):(0,n.kq)("",!0)]),"Sweden"==r.value&&d.value.length>0?((0,n.wg)(),(0,n.iD)("div",we,[(0,n.Wm)((0,s.SU)(ue),{"days-array":d.value},null,8,["days-array"])])):(0,n.kq)("",!0),"Abroad"==r.value&&v.value.length>0?((0,n.wg)(),(0,n.iD)("div",be,[(0,n.Wm)((0,s.SU)(L),{"days-array":v.value},null,8,["days-array"])])):(0,n.kq)("",!0)]))}};const De=ge;var He=De,je={name:"App",components:{TraktamenteStart:He}};const Ue=(0,F.Z)(je,[["render",u]]);var Se=Ue;(0,l.ri)(Se).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var r=a[l]={exports:{}};return e[l](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,r){if(!l){var u=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],r=e[c][2];for(var o=!0,s=0;s<l.length;s++)(!1&r||u>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(o=!1,r<u&&(u=r));if(o){e.splice(c--,1);var i=n();void 0!==i&&(a=i)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,r,u=l[0],o=l[1],s=l[2],i=0;if(u.some((function(a){return 0!==e[a]}))){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(s)var c=s(t)}for(a&&a(l);i<u.length;i++)r=u[i],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},l=self["webpackChunkvue_traktamente_app"]=self["webpackChunkvue_traktamente_app"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(5114)}));l=t.O(l)})();
//# sourceMappingURL=app.15d09181.js.map